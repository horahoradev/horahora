# Compose-related vars
# https://docs.docker.com/compose/env-file/#compose-file-and-cli-variables
COMPOSE_PROJECT_NAME=horahora
COMPOSE_FILE=./docker-compose.yaml
COMPOSE_PROFILES=client
# uncomment this and set to higher value if you get timeout on start
# COMPOSE_HTTP_TIMEOUT=60
COMPOSE_DOCKER_CLI_BUILD=1

GOLANG_VERSION=1.18
# @TODO: figure out the proper way of pinning the version
# because "1.40" doesn't work
GOLANG_AIR_VERSION=latest
PYTHON_VERSION=3.9
POSTGRES_VERSION=13.7
# db migration package
FLYWAY_VERSION=8.5.13
# MINIO_VERSION=
# @TODO: find a way to pin the version
# because "5.16" doesn't work
ACTIVEMQ_VERSION=latest
NGINX_VERSION=1.23
NODEJS_VERSION=14.20

# dockerfile args
UBUNTU_IMAGE=ubuntu:focal
GOLANG_IMAGE=golang:${GOLANG_VERSION}-alpine
PYTHON_IMAGE=python:${PYTHON_VERSION}-alpine
POSTGRES_IMAGE=postgres:${POSTGRES_VERSION}
ACTIVEMQ_IMAGE=symptoma/activemq:${ACTIVEMQ_VERSION}
NGINX_IMAGE=nginx:${NGINX_VERSION}-alpine
NODEJS_IMAGE=node:${NODEJS_VERSION}-alpine

WEBAPP_ORIGIN=http://react_app:3000
PUBLIC_ORIGIN=http://{{ origin }}

BUCKET_NAME=otomads
# For non-local applications, should be the public address of the server (if minio)
# or storage origin
ORIGIN_FQDN=http://localhost:9000/${BUCKET_NAME}
STORAGE_BACKEND=s3
STORAGE_API_ID=minioadmin
STORAGE_API_KEY=minioadmin
STORAGE_ENDPOINT=http://minio:9000

# VPN config
VPN_PROVIDER=mullvad
VPN_IP=10.64.168.1/32
WIREGUARD_PRIVATE_KEY=
VPN_CITIES=Tokyo

SOCKS_ADDR=

GRPCPort=7777

GOLANG_PROTOBUF_REGISTRATION_CONFLICT=warn

JWT_KEYPAIR="{{ keypair }}"


# Revolt config

##
## Quark configuration
##

# MongoDB
MONGODB=mongodb://database

# Redis
REDIS_URI=redis://redis/

# URL to where the Revolt app is publicly accessible
REVOLT_APP_URL=http://localhost/chat

# URL to where the API is publicly accessible
REVOLT_PUBLIC_URL=http://localhost/chat/api
VITE_API_URL=http://localhost/chat/api

# URL to where the WebSocket server is publicly accessible
REVOLT_EXTERNAL_WS_URL=ws://localhost/chat/api/ws

# URL to where Autumn is publicly available
AUTUMN_PUBLIC_URL=http://localhost/autumn

# URL to where January is publicly available
JANUARY_PUBLIC_URL=http://localhost/january

# URL to where Vortex is publicly available
# VOSO_PUBLIC_URL=https://localhost/voso


##
## hCaptcha Settings
##

# If you are sure that you don't want to use hCaptcha, set to 1.
REVOLT_UNSAFE_NO_CAPTCHA=1

# hCaptcha API key
# REVOLT_HCAPTCHA_KEY=0x0000000000000000000000000000000000000000

# hCaptcha site key
# REVOLT_HCAPTCHA_SITEKEY=10000000-ffff-ffff-ffff-000000000001


##
## Email Settings
##

# If you are sure that you don't want to use email verification, set to 1.
REVOLT_UNSAFE_NO_EMAIL=1

# SMTP host
# REVOLT_SMTP_HOST=smtp.example.com

# SMTP username
# REVOLT_SMTP_USERNAME=noreply@example.com

# SMTP password
# REVOLT_SMTP_PASSWORD=CHANGEME

# SMTP From header
# REVOLT_SMTP_FROM=Revolt <noreply@example.com>


##
## Application Settings
##

# Whether to only allow users to sign up if they have an invite code
REVOLT_INVITE_ONLY=0

# Maximum number of people that can be in a group chat
REVOLT_MAX_GROUP_SIZE=150

# VAPID keys for push notifications
# Generate using this guide: https://gitlab.insrt.uk/revolt/delta/-/wikis/vapid
# --> Please replace these keys before going into production! <--
REVOLT_VAPID_PRIVATE_KEY=LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUJSUWpyTWxLRnBiVWhsUHpUbERvcEliYk1yeVNrNXpKYzVYVzIxSjJDS3hvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFWnkrQkg2TGJQZ2hEa3pEempXOG0rUXVPM3pCajRXT1phdkR6ZU00c0pqbmFwd1psTFE0WAp1ZDh2TzVodU94QWhMQlU3WWRldVovWHlBdFpWZmNyQi9BPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
REVOLT_VAPID_PUBLIC_KEY=BGcvgR-i2z4IQ5Mw841vJvkLjt8wY-FjmWrw83jOLCY52qcGZS0OF7nfLzuYbjsQISwVO2HXrmf18gLWVX3Kwfw=


##
## Autumn configuration
##

# S3 Region
AUTUMN_S3_REGION=minio

# S3 Endpoint
AUTUMN_S3_ENDPOINT=http://minio:9000

# MinIO Root User
MINIO_ROOT_USER=minioautumn

# MinIO Root Password
MINIO_ROOT_PASSWORD=minioautumn

# AWS Access Key ID
AWS_ACCESS_KEY_ID=minioautumn

# AWS Secret Key
AWS_SECRET_ACCESS_KEY=minioautumn


##
## Vortex configuration
##

# VOSO_MANAGE_TOKEN=CHANGEME
